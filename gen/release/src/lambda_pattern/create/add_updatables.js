var git, fs, ensure_subrepo_exists, path, add_updatables;
'use strict';
git = require('simple-git');
fs = require('fs-extra');
ensure_subrepo_exists = require('./ensure_subrepo_exists');
path = require('path');
add_updatables = function add_updatables(root, project_path, cb) {
  var subrepo_path, err;
  subrepo_path = path.resolve(root, 'cached', 'subrepo_for_updatables');
  ensure_subrepo_exists(subrepo_path, function (arguments, _$param0) {
    err = _$param0;
    if (err) {
      return cb(err);
    }
    git(subrepo_path).checkout('master', function (arguments, _$param1) {
      err = _$param1;
      if (err) {
        return cb(err);
      }
      fs.copy(path.resolve(subrepo_path, 'gen', 'release', 'updatables'), path.resolve(project_path, 'gen', '.updatables'), cb);
    }.bind(this, arguments));
  }.bind(this, arguments));
};
module.exports = add_updatables;
/* Generated by Continuation.js v0.1.7 */