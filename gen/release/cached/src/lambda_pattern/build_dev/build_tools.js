'use strict';

var ERR = require('async-stacktrace');
var word_wrap = require('word-wrap');
var fs = require('fs-extra');
var rsv = require('path').resolve;
var rollup = require('rollup').rollup;
var commonjs = require('rollup-plugin-commonjs');
var node_resolve = require('rollup-plugin-node-resolve');

var build_tools = function build_tools(root, cb) {
    rollup({
        entry: rsv(root, 'tools.js'),
        onwarn: function onwarn(err) {
            cb(err);
        },
        plugins: [node_resolve({
            jsnext: true,
            main: true }), commonjs({
            include: 'node_modules/**' })] }).then(function (bundle) {
        var result = bundle.generate({
            format: 'cjs'
        });
        fs.writeFileSync(rsv(root, 'built_tools.js'), '//built\n' + result.code);
        cb();
    });
};

module.exports = build_tools;
/* Generated by Continuation.js v0.1.7 */