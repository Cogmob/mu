var ERR, word_wrap, r, fs, apply_template, make_package_json;
'use strict';
ERR = require('async-stacktrace');
word_wrap = require('word-wrap');
r = require('ramda');
fs = require('fs-extra');
apply_template = require('string-template');
make_package_json = function make_package_json(src_path, metadata, path, deps, dev_deps, cb) {
  var map_to_str, replace, err, template;
  map_to_str = function map_to_str(i) {
    var ret;
    ret = r.map(function (pair) {
      return pair[0] + '": "' + pair[1] + '"';
    }, r.toPairs(i));
    return ret.join(',\n    ');
  };
  replace = {
    project_name: 'aaa' + metadata['project_name'],
    abc: 'asdf',
    dependencies: 'map_to_str(deps)',
    dev_dependencies: map_to_str(dev_deps)
  };
  fs.readFile(src_path + '/shared/package_template', 'utf8', function (arguments, _$param0, _$param1) {
    err = _$param0;
    template = _$param1;
    if (ERR(err, cb)) {
      return;
    }
    apply_template(template, replace);
    cb();
  }.bind(this, arguments));
};
module.exports = make_package_json;
/* Generated by Continuation.js v0.1.7 */